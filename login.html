<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ T-MAP</title>
  <link rel="icon" href="https://turistibg.weebly.com/uploads/1/0/3/2/10320234/published/logo-edelvais2023love.jpg?1753986288">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    body {
      background-color: #f7f7f7;
      text-align: center;
      padding-top: 60px;
      font-family: 'Segoe UI', sans-serif;
    }
    .btn-custom {
      padding: 12px 24px;
      font-size: 18px;
      margin: 10px;
    }
  </style>
</head>
<body>
  <img src="https://turistibg.weebly.com/uploads/1/0/3/2/10320234/published/logo-edelvais2023love.jpg?1753986288" alt="Logo" width="120"/>
  <h1 class="mt-4 text-success fw-bold">–î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ T-MAP</h1>
  <p class="lead">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞ –∫–∞—Ä—Ç–∞ –Ω–∞ –ë—ä–ª–≥–∞—Ä–∏—è</p>

  <div class="d-flex justify-content-center">
    <a href="tmap_view.html" class="btn btn-success btn-custom">üó∫ –í–∏–∂ –∫–∞—Ä—Ç–∞—Ç–∞ (T-MAP)</a>
    <button id="dashboardBtn" class="btn btn-primary btn-custom">üìã –ú–æ–µ—Ç–æ —Ç–∞–±–ª–æ</button>
  </div>

  <script>
    const supabase = window.supabase.createClient(
      'https://cmiylzpmpwqbacjoqtkx.supabase.co',
      'public-anon-key'
    );

    document.getElementById('dashboardBtn').addEventListener('click', async () => {
      const { data: { session } } = await supabase.auth.getSession();
      if (session) {
        const uid = session.user.id;
        if (
          uid === '59e62f07-5fab-443f-a0cb-efd988b44b8f' ||
          uid === 'e4d984f3-d32f-4d32-8d6f-1defef67d466'
        ) {
          window.location.href = 'admin_dashboard.html';
        } else {
          window.location.href = 'user_dashboard.html';
        }
      } else {
        const { error } = await supabase.auth.signInWithOAuth({ provider: 'google' });
        if (error) alert("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥: " + error.message);
      }
    });
  </script>
</body>
</html>