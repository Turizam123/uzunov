<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <title>Добавяне на обект</title>
</head>
<body>
  <h2>Подайте нов туристически обект</h2>
  <form id="placeForm">
    <input type="text" placeholder="Заглавие" id="title"><br />
    <textarea placeholder="Описание" id="description"></textarea><br />
    <input type="text" placeholder="Линк към снимка" id="image_url"><br />
    <input type="text" placeholder="Ширина (latitude)" id="latitude"><br />
    <input type="text" placeholder="Дължина (longitude)" id="longitude"><br />
    <button type="submit">Изпрати</button>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const supabase = supabase.createClient('https://cmiylzpmpwqbacjoqtkx.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...');
    const form = document.getElementById('placeForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const { error } = await supabase.from('pending_places').insert({
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        image_url: document.getElementById('image_url').value,
        latitude: parseFloat(document.getElementById('latitude').value),
        longitude: parseFloat(document.getElementById('longitude').value)
      });
      if (error) alert('Грешка при запис!');
      else alert('Успешно подадена заявка!');
    });
  </script>
</body>
</html>
